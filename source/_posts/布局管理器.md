---
title: "布局管理器"
date: 2024-04-01
description: ""
cover: https://github.com/Gjt-9520/Resource/blob/main/Aimage-135/Aimage110.jpg?raw=true
tags: ["Java GUI"]
category: "学习笔记"
updated: 2024-04-02
swiper_index: 
top_group_index: 
---

# 布局管理器

为了实现跨平台并获得动态的布局效果,Java将容器内的所有组件安排给一个布局管理器负责管理           
例如排列顺序、组件大小、位置、当窗口移动或调整大小后组件变化等功能授权给对应的容器的布局管理器来管理

`setLayout(LayoutManger manger)`:设置布局管理器

# FlowLayout 流式布局

组件从左到右、从上到下,一个挨一个的放在容器中                    
如果容器足够宽,第一个组件先添加到容器中第一行的最左边,后续的组件依次添加到上一个组件的右边             
如果当前行已放置不下该组件,则放置到下一行的最左边

## 构造方法

- `FlowLayout()`:创建一个新的流布局管理器,它是居中对齐的,默认的水平和垂直间隙是5个单位 
- `FlowLayout(int align)`:创建一个新的流布局管理器,它具有指定的对齐方式,默认的水平和垂直间隙是5个单位
- `FlowLayout(int align, int hgap, int vgap)`:创建一个新的流布局管理器,它具有指定的对齐方式以及指定的水平和垂直间隙 

## 范例 

![FlowLayout效果](../images/FlowLayout效果.png)

```java
import javax.swing.*;
import java.awt.*;
import java.util.ArrayList;
import java.util.Collections;

public class Test {
    public static void main(String[] args) {
        JFrame jFrame = new JFrame("窗口");
        jFrame.setSize(600, 400);
        jFrame.setLocationRelativeTo(null);

        // 默认的对齐方式为居中对齐
        jFrame.setLayout(new FlowLayout());

        // 指定对齐方式及横纵向间隔
        // 例如对齐方式:居左,横向间隔20像素,纵向间隔40像素
        // FlowLayout f1 = new FlowLayout(FlowLayout.LEFT, 20, 40);
        // jFrame.setLayout(f1);

        JButton jButton1 = new JButton("按钮1");
        JButton jButton2 = new JButton("按钮2");
        JButton jButton3 = new JButton("按钮3");
        JButton jButton4 = new JButton("按钮4");
        JButton jButton5 = new JButton("按钮5");
        JButton jButton6 = new JButton("按钮6");
        JButton jButton7 = new JButton("按钮7");
        JButton jButton8 = new JButton("按钮8");
        JButton jButton9 = new JButton("按钮9");

        ArrayList<JButton> list = new ArrayList<>();
        Collections.addAll(list, jButton1, jButton2, jButton3, jButton4, jButton5, jButton6, jButton7, jButton8, jButton9);
        for (JButton jButton : list) {
            jFrame.add(jButton);
        }

        jFrame.setVisible(true);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
}
```

# BorderLayout 边框布局

BorderLayout是窗口、面板的**默认布局**              
按照5个方位(东、南、西、北、中)放组件,**组件默认放在中心区域**                  
BorderLayout布局管理器把容器分成5个区域：North,South,East,West和Center,每个区域只能放置一个组件        

## 构造方法

- `BorderLayout()`:创建一个新的边框布局,它的组件间距大小为0
- `BorderLayout(int hgap, int vgap)`:创建一个新的边框布局,它具有指定水平间距和垂直间距

## 范例

![BorderLayout效果](../images/BorderLayout效果.png)

```java
import javax.swing.*;
import java.awt.*;

public class Test {
    public static void main(String[] args) {
        JFrame jFrame = new JFrame("窗口");
        jFrame.setSize(600, 400);
        jFrame.setLocationRelativeTo(null);
        
        // 默认组件之间没有间距
        // 如果不指定方位,组件默认放在中心区域
        jFrame.setLayout(new BorderLayout());

        // 指定横纵向间隔
        // 例如横向间隔20像素,纵向间隔40像素
        // BorderLayout b1 = new BorderLayout(20, 40);
        // jFrame.setLayout(b1);

        JButton jButton1 = new JButton("按钮1");
        JButton jButton2 = new JButton("按钮2");
        JButton jButton3 = new JButton("按钮3");
        JButton jButton4 = new JButton("按钮4");
        JButton jButton5 = new JButton("按钮5");

        jFrame.add(jButton1, BorderLayout.CENTER);
        jFrame.add(jButton2, BorderLayout.EAST);
        jFrame.add(jButton3, BorderLayout.SOUTH);
        jFrame.add(jButton4, BorderLayout.WEST);
        jFrame.add(jButton5, BorderLayout.NORTH);

        jFrame.setVisible(true);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
}
```

# GridLayout 网格布局

使容器中各个组件呈网格状布局,平均占据容器的空间

## 构造方法

- `GridLayout()`:创建一个新的网格布局,它具有默认值的网格布局,即每个组件占据1列 
- `GridLayout(int rows, int cols)`:创建一个新的网格布局,它具有指定行数和列数的网格布局 
- `GridLayout(int rows, int cols, int hgap, int vgap)`:创建一个新的网格布局,它具有指定行数、列数以及水平间距、垂直间距的网格布局

## 范例

![GirdLayout效果](../images/GirdLayout效果.png)

```java
import javax.swing.*;
import java.awt.*;
import java.util.ArrayList;
import java.util.Collections;

public class Test {
    public static void main(String[] args) {
        JFrame jFrame = new JFrame("窗口");
        jFrame.setSize(600, 400);
        jFrame.setLocationRelativeTo(null);

        // 默认值的网格布局,即每个组件占据1列
        jFrame.setLayout(new GridLayout());

        // 指定行列数
        // 例如指定2行,3列,横向间隔20像素,纵向间隔40像素
        // GridLayout g1 = new GridLayout(2, 3, 20, 40);
        // jFrame.setLayout(g1);

        JButton jButton1 = new JButton("按钮1");
        JButton jButton2 = new JButton("按钮2");
        JButton jButton3 = new JButton("按钮3");
        JButton jButton4 = new JButton("按钮4");
        JButton jButton5 = new JButton("按钮5");

        ArrayList<JButton> list = new ArrayList<>();
        Collections.addAll(list, jButton1, jButton2, jButton3, jButton4, jButton5);
        for (JButton jButton : list) {
            jFrame.add(jButton);
        }
        
        jFrame.setVisible(true);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
}
```

# CardLayout 卡片布局

CardLayout将容器中的每个组件看作一张卡片,一次只能看到一张卡片

## 构造方法

- `CardLayout()`:创建一个新的卡片布局,它的组件间距大小为0
- `CardLayout(int hgap, int vgap)`:创建一个新的卡片布局,它具有水平间距和垂直间距 

## 范例

![CardLayout效果](../images/CardLayout效果.png)

```java
import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.Collections;

public class Test {
    public static void main(String[] args) {
        JFrame jFrame = new JFrame("窗口");
        jFrame.setSize(600, 400);
        jFrame.setLocationRelativeTo(null);

        // 创建ArrayList集合存储页面名称
        ArrayList<String> pageNames = new ArrayList<>();
        Collections.addAll(pageNames, "第1页", "第2页", "第3页", "第4页", "第5页", "第6页");

        // 创建显示面板
        JPanel CardjPanel = new JPanel();

        // 创建页面并添加到显示面板中
        for (String pageName : pageNames) {
            JLabel jLabel = new JLabel(pageName);
            // 设置文字居中显示
            jLabel.setHorizontalAlignment(SwingConstants.CENTER);
            // 设置并应用样式
            Font font = new Font("微软雅黑", Font.PLAIN, 30);
            jLabel.setFont(font);

            jLabel.setSize(100, 100);

            // 设置并应用背景色
            jLabel.setBackground(Color.CYAN);
            jLabel.setOpaque(true);

            CardjPanel.add(jLabel);
        }

        // 创建卡片布局,横向间隔20像素,纵向间隔150像素
        final CardLayout c = new CardLayout(20, 150);
        
        // 应用卡片布局到显示面板
        CardjPanel.setLayout(c);

        // 创建按钮面板
        JPanel buttonjPanel = new JPanel();

        // 创建上一张按钮并添加动作监听:上一张卡片
        JButton lastButton = new JButton("上一张");
        lastButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                c.previous(CardjPanel);
            }
        });

        // 创建下一张按钮并添加动作监听:下一张卡片
        JButton nextButton = new JButton("下一张");
        nextButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                c.next(CardjPanel);
            }
        });

        // 将按钮添加到按钮面板中
        buttonjPanel.add(lastButton);
        buttonjPanel.add(nextButton);

        // 将卡片面板按照边框布局添加到窗口中
        jFrame.add(CardjPanel, BorderLayout.NORTH);
        jFrame.add(buttonjPanel, BorderLayout.SOUTH);

        jFrame.setVisible(true);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
}
```

# GridBagLayout 网格包布局

## 构造方法

自查JDK API

## 范例

![GridBagLayout效果](../images/GridBagLayout效果.png)

```java
import javax.swing.*;
import java.awt.*;

public class Test {
    private static final JFrame jFrame = new JFrame();
    private static final GridBagLayout gridBagLayout = new GridBagLayout();
    private static final GridBagConstraints gridBagConstraints = new GridBagConstraints();

    private static final Button[] buttons = new Button[10];

    private static void addButton(Button button) {
        gridBagLayout.setConstraints(button, gridBagConstraints);
        jFrame.add(button);
    }


    public static void main(String[] args) {
        // 初始化10个按钮
        for (int i = 0; i < 10; i++) {
            buttons[i] = new Button("button" + i);
        }
        // 设置窗口的布局为网格包布局
        jFrame.setLayout(gridBagLayout);

        // 为了设置如果组件所在的区域比组件本身要大时的显示情况
        // 使组件完全填满其显示区域
        gridBagConstraints.fill = GridBagConstraints.BOTH;
        // NONE:不调整组件大小
        // HORIZONTAL:加宽组件,使它在水平方向上填满其显示区域,但是不改变高度
        // VERTICAL:加高组件,使它在垂直方向上填满其显示区域,但是不改变宽度
        // BOTH:使组件完全填满其显示区域

        // 该方法是设置组件水平所占用的格子数,如果为0,就说明该组件是该行的最后一个,为1则只占一格
        gridBagConstraints.weighty = 1;

        // 第1行的4个按钮
        // 该方法设置组件水平的拉伸幅度,如果为0就说明不拉伸,不为0就随着窗口增大进行拉伸,0到1之间
        gridBagConstraints.weightx = 1;
        addButton(buttons[0]);
        addButton(buttons[1]);
        addButton(buttons[2]);

        // 该组件是该行的最后一个,第4个添加后就要换行了
        gridBagConstraints.gridwidth = GridBagConstraints.REMAINDER;
        addButton(buttons[3]);
        // 第2行第1个按钮,仍然保持REMAINDER换行状态
        addButton(buttons[4]);

        // 第3行
        // 按钮分别横跨2格
        gridBagConstraints.gridwidth = 2;
        // 该方法设置组件水平的拉伸幅度
        gridBagConstraints.weightx = 1;
        addButton(buttons[5]);
        gridBagConstraints.gridwidth = GridBagConstraints.REMAINDER;
        addButton(buttons[6]);

        // 按钮7纵跨2个格子,按钮8、按钮9一上一下
        // 按钮7纵跨2格
        gridBagConstraints.gridheight = 2;
        // 横跨1格
        gridBagConstraints.gridwidth = 1;
        // 该方法设置组件水平的拉伸幅度
        gridBagConstraints.weightx = 1;
        // 由于纵跨2格因此纵向伸缩比例不需要调整,默认为1*2格,比例刚好
        addButton(buttons[7]);

        gridBagConstraints.gridwidth = GridBagConstraints.REMAINDER;
        gridBagConstraints.gridheight = 1;
        gridBagConstraints.weightx = 1;
        addButton(buttons[8]);
        addButton(buttons[9]);

        jFrame.setLocationRelativeTo(null);
        jFrame.setSize(600, 400);

        // 紧凑窗口内的组件
        jFrame.pack();

        jFrame.setVisible(true);
    }
}
```

# BoxLayout 框式布局

BoxLayout是允许垂直或水平布置多个组件的布局管理器

## 构造方法

- `BoxLayout(Container target, int axis)`:创建一个新的框式布局,它将沿给定轴放置组件

其中:
1. LINE_AXIS:
2. PAGE_AXIS:
3. X_AXIS:从左到右水平布置组件
4. Y_AXIS:从上到下垂直布置组件

## 范例

![BoxLayout效果](../images/BoxLayout效果.gif)

```java
package test3;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
import java.awt.Container;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.BoxLayout;
import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JRadioButton;

public class Test implements ActionListener {

    public static void main(String[] args) {
        BoxLayoutDemo();
    }

    static Container container;
    static JFrame jFrame;
    static JRadioButton jRadioButton1;
    static JRadioButton jRadioButton2;
    static JRadioButton jRadioButton3;
    static JButton jButton1;
    static JButton jButton2;
    static JButton jButton3;
    static JPanel jPanel1;

    public static void BoxLayoutDemo() {
        jFrame = new JFrame();
        jFrame.setBounds(100, 100, 200, 300);
        // 存放按钮的面板
        jPanel1 = new JPanel();
        jPanel1.setSize(200, 200);
        jPanel1.setBackground(Color.LIGHT_GRAY);
        container = jFrame.getContentPane();
        container.add(BorderLayout.CENTER, jPanel1);
        jPanel1.setLayout(new BoxLayout(jPanel1, BoxLayout.Y_AXIS));
        // 存放模式选择的面板
        JPanel jPanel2 = new JPanel();
        jPanel2.setSize(200, 100);
        ButtonGroup group = new ButtonGroup();
        jRadioButton1 = new JRadioButton("one");
        jRadioButton2 = new JRadioButton("two");
        jRadioButton3 = new JRadioButton("three");
        group.add(jRadioButton1);
        group.add(jRadioButton2);
        group.add(jRadioButton3);
        jPanel2.add(jRadioButton1);
        jPanel2.add(jRadioButton2);
        jPanel2.add(jRadioButton3);
        jFrame.getContentPane().add(BorderLayout.SOUTH, jPanel2);
        jRadioButton1.setSelected(true);
        // 放置按钮
        jButton1 = new JButton("AAA");
        Font f1 = new Font("隶书", Font.PLAIN, 25);
        jButton1.setFont(f1);
        jButton1.setBackground(Color.yellow);
        jButton2 = new JButton("BBB");
        jButton2.setBackground(Color.red);
        Font f2 = new Font("隶书", Font.PLAIN, 45);
        jButton2.setFont(f2);
        jButton3 = new JButton("CCC");
        jButton3.setBackground(Color.green);
        Font f3 = new Font("隶书", Font.PLAIN, 65);
        jButton3.setFont(f3);
        jPanel1.add(jButton1);
        jPanel1.add(jButton2);
        jPanel1.add(jButton3);
        jButton1.setAlignmentX(Component.CENTER_ALIGNMENT);
        jButton2.setAlignmentX(Component.CENTER_ALIGNMENT);
        jButton3.setAlignmentX(Component.CENTER_ALIGNMENT);
        jFrame.setVisible(true);
        jRadioButton1.addActionListener(Test::AddListener);
        jRadioButton2.addActionListener(Test::AddListener);
        jRadioButton3.addActionListener(Test::AddListener);
        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }

    private static void AddListener(ActionEvent e) {
        JRadioButton jr = (JRadioButton) e.getSource();
        if (jr.getText().equals("one")) {
            changeVisible(false);
            changeVisible(true);
            jButton1.setAlignmentX(Component.CENTER_ALIGNMENT);
            jButton2.setAlignmentX(Component.CENTER_ALIGNMENT);
            jButton3.setAlignmentX(Component.CENTER_ALIGNMENT);
        } else if (jr.getText().equals("two")) {
            changeVisible(false);
            changeVisible(true);
            jPanel1.setLayout(new BoxLayout(jPanel1, BoxLayout.Y_AXIS));
            jButton1.setAlignmentX(Component.RIGHT_ALIGNMENT);
            jButton2.setAlignmentX(Component.RIGHT_ALIGNMENT);
            jButton3.setAlignmentX(Component.RIGHT_ALIGNMENT);
        } else if (jr.getText().equals("three")) {
            changeVisible(false);
            changeVisible(true);
            jButton1.setAlignmentX(Component.LEFT_ALIGNMENT);
            jButton2.setAlignmentX(Component.LEFT_ALIGNMENT);
            jButton3.setAlignmentX(Component.LEFT_ALIGNMENT);
        }
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        AddListener(e);
    }

    static void changeVisible(boolean b) {
        jButton1.setVisible(b);
        jButton2.setVisible(b);
        jButton3.setVisible(b);
    }
}
```