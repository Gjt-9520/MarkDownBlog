---
title: "树"
date: 2024-03-11
description: ""
cover: https://github.com/Gjt-9520/Resource/blob/main/Aimage-135/Aimage43.jpg?raw=true
tags: ["数据结构"]
category: "学习笔记"
updated: 2024-03-12
 
top_group_index: 
---

# 树

![树](../images/树.png)

节点: 

![节点](../images/节点.png)

树的相关概念: 

![树的相关概念](../images/树的相关概念.png)

# 二叉树

![二叉树](../images/二叉树.png)

# 二叉查找树

二叉查找树又被称为二叉排序树/二叉搜索树

![二叉查找树](../images/二叉查找树.png)

## 添加节点 

![二叉查找树添加节点](../images/二叉查找树添加节点.png)

## 查找节点

和添加节点异曲同工,满足规则: 
1. 小的查左边
2. 大的查右边

## 遍历节点

![范例二叉树](../images/范例二叉树.png)

1. **前序遍历**: 从根节点开始,然后按照**当前节点,左子节点,右子节点**的顺序遍历            
例如: 20 --> 18 --> 16 --> 19 --> 23 --> 22 --> 24
2. **中序遍历**: 从最左边的子节点开始,然后按照**左子节点,当前节点,右子节点**的顺序遍历                  
例如: 16 --> 18 --> 19 --> 20 --> 22 --> 23 --> 24
3. **后序遍历**: 从最左边的子节点开始,然后按照**左子节点,右子节点,当前节点**的顺序遍历      
例如: 16 --> 19 --> 18 --> 22 --> 24 --> 23 --> 20               
4. **层序遍历**: 从根节点开始,**一层一层的遍历**          
例如: 20 --> 18 --> 23 --> 16 --> 19 --> 22 --> 24      

## 弊端

例如二叉查找树添加节点: 7,10,11,12,13,会出现以下情况:              

![二叉查找树弊端](../images/二叉查找树弊端.png)

而树的左右子节点高度差不多的时候,二叉树的效率才高            

# 平衡二叉树

平衡二叉树是高度平衡的

在二叉查找树的基础上,再增加一个规则: **任意节点左右子树高度差不超过1**  

## 旋转机制

触发时机: 当添加一个节点之后,该树不再是一颗平衡二叉树   

1. 左旋 
2. 右旋 

## 左旋

简单范例: 

![左旋1](../images/左旋1.png)

![左旋2](../images/左旋2.png)

复杂范例 :

![左旋3](../images/左旋3.png)

![左旋4](../images/左旋4.png)

## 右旋

简单范例: 

![右旋1](../images/右旋1.png)

![右旋2](../images/右旋2.png)

复杂范例 :

![右旋3](../images/右旋3.png)

![右旋4](../images/右旋4.png)

## 需要旋转的四种情况

1. 左左 -- **一次右旋**
2. 左右 -- **先局部左旋,再整体右旋**
3. 右右 -- **一次左旋**
4. 右左 -- **先局部右旋,再整体左旋**

## 左左

![左左](../images/左左.png)

右旋1次: 

![左左右旋](../images/左左右旋.png)

## 左右

![左右](../images/左右.png)

先局部左旋1次: 

![左右局部左旋1次](../images/左右局部左旋1次.png)

再整体右旋1次: 

![左右整体右旋1次](../images/左右整体右旋1次.png)

## 右右

![右右](../images/右右.png)

左旋1次: 

![右右左旋](../images/右右左旋.png)

## 右左

![右左](../images/右左.png)

先局部右旋1次: 

![右左局部右旋1次](../images/右左局部右旋1次.png)

再整体左旋1次: 

![右左整体左旋1次](../images/右左整体左旋1次.png)

# 红黑树

红黑树是一种自平衡的二叉查找树,是计算机科学中用到的一种数据结构

红黑树是一种特殊的二叉查找树,红黑树的每一个节点上都有存储位表示节点的颜色

**每一个节点可以是红或者黑**;红黑树**不是高度平衡的**,它的平衡是通过"**红黑规则**"进行实现的

![红黑树](../images/红黑树.png)

二叉树缺点:**大数据量的情况下,层级较深,检索速度慢**

## 红黑规则   

1. 每一个节点或是红色的,或是黑色的
2. 根节点必须是黑色
3. 如果一个节点没有子节点或者父节点,则该节点相应的指针属性值为Nil,这些Nil视为叶节点,每个叶节点(Nil)是黑色的

![叶节点](../images/叶节点.png)

4. 如果某一个节点是红色,那么它的子节点必须是黑色的(不能不出现两个红色节点相连的情况)
5. 对每一个节点,从该节点到其所有后代节点的简单路径上,均包含相同数目的黑色节点

## 添加节点的规则

默认颜色:添加节点默认是红色的(效率高)

![红黑树添加节点](../images/红黑树添加节点.png)

**红黑树增删改查的性能都很好**

# B树

B-Tree,B树是一种多叉路衡查找树,相对于二叉树,B树每个节点可以有多个分支,即多叉

对于一个最大度数为(m)的B树,其中(m)是一个奇数,其非叶子节点的规则通常为:

- 每个非叶子节点最多包含(m-1)个关键字
- 每个非叶子节点最多包含(m)个子节点指针

以一颗最大度数(max-degree)为5(5阶)的B-tree为例,那这个B树每个节点最多存储4个key,5个指针:

树的度数:一个节点的子节点个数

![B-tree范例](../images/Btree范例.png)

## B+树

以一颗最大度数(max-degree)为4(4阶)的b+tree为例,那这个B树每个节点最多存储3个key,4个指针:

![B+树范例](../images/B加树范例.png)

其中:

- 绿色框框起来的部分,是索引部分,仅仅起到索引数据的作用,不存储数据
- 红色框框起来的部分,是数据存储部分,在其叶子节点中要存储具体的数据

## B树与B+树之间的区别

1. 所有的数据都会出现在叶子节点
2. 叶子节点形成一个单向链表
3. 非叶子节点仅仅起到索引数据作用,具体的数据都是在叶子节点存放的       